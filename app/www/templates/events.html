<ion-view title="Upcoming Events">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <ion-list>

    <div ng-repeat="(key, values) in events | isPast | groupBy: 'details.datetime'">
        <div class="item item-divider">
            {{ values[0].details.date }}
        </div>
        <a class="item" ng-repeat="item in values | filter:search" href="#/app/events/{{item.id}}">
            <h2>{{item.company}} </h2>
            <p>{{item.details.date}} {{item.details.time}}</p>
        </a>
    </div>
    <div class="item item-icon-left" ng-click="nextMonth()" ng-show="loaded">
        <i class="icon ion-plus-round"></i>Load next month
    </div>
    <div class="item item-icon-left" ng-hide="loaded">
        <i class="icon ion-refreshing"></i>Loading
    </div>
    </ion-list>
  </ion-content>
</ion-view>
